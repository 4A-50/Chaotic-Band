<!DOCTYPE HTML><html>
<html lang="en">
    <head style="text-align: center;">
        <title>Wall Synth</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
    </head>

    <style>
        body{
          margin-left: auto;
          margin-right: auto;
          text-align: center;
        }
    </style>

    <body>
        <h2>Pad Readings</h2>
        <p id="pad0"></p>
        <p id="pad1"></p>
        <p id="pad2"></p>
        <p id="pad3"></p>
        <p id="pad4"></p>
        <p id="pad5"></p>

        <h2>Set Pad Thresholds</h2>
        <form action='/update' method='GET'>
            <label for="padIn0">Pad 1 Threshold:</label>
            <input type="number" id="padIn0" name="padIn0" min="0">
            <br/>
            <label for="padIn1">Pad 2 Threshold:</label>
            <input type="number" id="padIn1" name="padIn1" min="0">
            <br/>
            <label for="padIn2">Pad 3 Threshold:</label>
            <input type="number" id="padIn2" name="padIn2" min="0">
            <br/>
            <label for="padIn3">Pad 4 Threshold:</label>
            <input type="number" id="padIn3" name="padIn3" min="0">
            <br/>
            <label for="padIn4">Pad 5 Threshold:</label>
            <input type="number" id="padIn4" name="padIn4" min="0">
            <br/>
            <label for="padIn4">Pad 6 Threshold:</label>
            <input type="number" id="padIn4" name="padIn4" min="0">
            <br/><br/>
            <input type="submit">
        </form>
    </body>

    <script>
        setInterval(function(){
            var xhttp = new XMLHttpRequest();
            xhttp.onreadystatechange = function(){
                if(this.readyState == 4 && this.status == 200){
                    let text = this.responseText;
                    //let text = "1500 5600 340 5000 6700 1234"
                    const valArray = text.split(" ");
                    
                    for(let i = 0; i < 6; i++) {
                        document.getElementById("pad" + i.toString()).innerHTML = "Pad " + (i + 1) + ": " + valArray[i];
                    }
                }
            };
            xhttp.open("GET", "/padreadings", true);
            xhttp.send();
        }, 500);
    </script>
</html>
